(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{222:function(r,n,e){"use strict";e.r(n),e.d(n,"layout_circlepack",(function(){return l}));var t=e(241),i=e.n(t);function l(r){i.a.assign(r,{hierarchyAttributes:["community","degree"]})}},241:function(r,n,e){var t=e(242),i=e(7),l=e(243),a={attributes:{x:"x",y:"y"},center:0,hierarchyAttributes:[],rng:Math.random,scale:1};function o(r,n,e,t,i){this.wrappedCircle=i||null,this.children={},this.countChildren=0,this.id=r||null,this.next=null,this.previous=null,this.x=n||null,this.y=e||null,this.r=i?1010101:t||999}function u(r,n){var e=r.r-n.r,t=n.x-r.x,i=n.y-r.y;return e<0||e*e<t*t+i*i}function c(r,n){var e=r.r-n.r+1e-6,t=n.x-r.x,i=n.y-r.y;return e>0&&e*e>t*t+i*i}function h(r,n){for(var e=0;e<n.length;++e)if(!c(r,n[e]))return!1;return!0}function s(r,n){var e=r.x,t=r.y,i=r.r,l=n.x,a=n.y,u=n.r,c=l-e,h=a-t,s=u-i,f=Math.sqrt(c*c+h*h);return new o(null,(e+l+c/f*s)/2,(t+a+h/f*s)/2,(f+i+u)/2)}function f(r,n,e){var t=r.x,i=r.y,l=r.r,a=n.x,u=n.y,c=n.r,h=e.x,s=e.y,f=e.r,p=t-a,d=t-h,x=i-u,y=i-s,v=c-l,w=f-l,C=t*t+i*i-l*l,g=C-a*a-u*u+c*c,b=C-h*h-s*s+f*f,M=d*x-p*y,m=(x*b-y*g)/(2*M)-t,A=(y*v-x*w)/M,k=(d*g-p*b)/(2*M)-i,E=(p*w-d*v)/M,P=A*A+E*E-1,q=2*(l+m*A+k*E),I=m*m+k*k-l*l,N=-(P?(q+Math.sqrt(q*q-4*P*I))/(2*P):I/q);return new o(null,t+m+A*N,i+k+E*N,N)}function p(r){switch(r.length){case 1:return new o(null,(n=r[0]).x,n.y,n.r);case 2:return s(r[0],r[1]);case 3:return f(r[0],r[1],r[2]);default:throw new Error("graphology-layout/circlepack: Invalid basis length "+r.length)}var n}function d(r,n){var e,t;if(h(n,r))return[n];for(e=0;e<r.length;++e)if(u(n,r[e])&&h(s(r[e],n),r))return[r[e],n];for(e=0;e<r.length-1;++e)for(t=e+1;t<r.length;++t)if(u(s(r[e],r[t]),n)&&u(s(r[e],n),r[t])&&u(s(r[t],n),r[e])&&h(f(r[e],r[t],n),r))return[r[e],r[t],n];throw new Error("graphology-layout/circlepack: extendBasis failure !")}function x(r){var n=r.wrappedCircle,e=r.next.wrappedCircle,t=n.r+e.r,i=(n.x*e.r+e.x*n.r)/t,l=(n.y*e.r+e.y*n.r)/t;return i*i+l*l}function y(r,n,e){var t,i,l,a,o=r.x-n.x,u=r.y-n.y,c=o*o+u*u;c?(i=n.r+e.r,i*=i,a=r.r+e.r,i>(a*=a)?(t=(c+a-i)/(2*c),l=Math.sqrt(Math.max(0,a/c-t*t)),e.x=r.x-t*o-l*u,e.y=r.y-t*u+l*o):(t=(c+i-a)/(2*c),l=Math.sqrt(Math.max(0,i/c-t*t)),e.x=n.x+t*o-l*u,e.y=n.y+t*u+l*o)):(e.x=n.x+e.r,e.y=n.y)}function v(r,n){var e=r.r+n.r-1e-6,t=n.x-r.x,i=n.y-r.y;return e>0&&e*e>t*t+i*i}function w(r,n){var e,t,i,l,a,u,h,s,f,w,C=r.length;if(0===C)return 0;if((e=r[0]).x=0,e.y=0,C<=1)return e.r;if(t=r[1],e.x=-t.r,t.x=e.r,t.y=0,C<=2)return e.r+t.r;y(t,e,i=r[2]),e=new o(null,null,null,null,e),t=new o(null,null,null,null,t),i=new o(null,null,null,null,i),e.next=i.previous=t,t.next=e.previous=i,i.next=t.previous=e;r:for(u=3;u<C;++u){i=r[u],y(e.wrappedCircle,t.wrappedCircle,i),i=new o(null,null,null,null,i),h=t.next,s=e.previous,f=t.wrappedCircle.r,w=e.wrappedCircle.r;do{if(f<=w){if(v(h.wrappedCircle,i.wrappedCircle)){t=h,e.next=t,t.previous=e,--u;continue r}f+=h.wrappedCircle.r,h=h.next}else{if(v(s.wrappedCircle,i.wrappedCircle)){(e=s).next=t,t.previous=e,--u;continue r}w+=s.wrappedCircle.r,s=s.previous}}while(h!==s.next);for(i.previous=e,i.next=t,e.next=t.previous=t=i,l=x(e);(i=i.next)!==t;)(a=x(i))<l&&(e=i,l=a);t=e.next}e=[t.wrappedCircle],i=t;for(var g=1e4;(i=i.next)!==t&&0!=--g;)e.push(i.wrappedCircle);for(i=function(r,n){var e,t,i=0,l=r.slice(),a=r.length,o=[];for(n(l);i<a;)e=l[i],t&&c(t,e)?++i:(t=p(o=d(o,e)),i=0);return t}(e,n),u=0;u<C;++u)(e=r[u]).x-=i.x,e.y-=i.y;return i.r}function C(r,n){for(var e in function r(n,e){var t=0;if(n.hasChildren()){for(var i in n.children){var l=n.children[i];l.hasChildren()&&(l.r=r(l,e))}t=w(Object.values(n.children),e)}return t}(r,n),r.children){r.children[e].applyPositionToChildren()}}function g(r,n,e){if(!i(n))throw new Error("graphology-layout/circlepack: the given graph is not a valid graphology instance.");e=t(e,a);var u={},c={},h=n.nodes(),s=e.center,f=e.hierarchyAttributes,p=l.createShuffleInPlace(e.rng),d=e.scale,x=new o;n.forEachNode((function(r,n){var e=new o(r,null,null,n.size?n.size:1),t=x;f.forEach((function(r){var e=n[r];t=t.getChild(e)})),t.addChild(r,e)})),C(x,p),function r(n,e,t){for(var i in e.children){var l=e.children[i];l.hasChildren()?r(n,l,t):t[l.id]={x:l.x,y:l.y}}}(n,x,u);var y,v,w,g=h.length;for(w=0;w<g;w++){var b=h[w];y=s+d*u[b].x,v=s+d*u[b].y,c[b]={x:y,y:v},r&&(n.setNodeAttribute(b,e.attributes.x,y),n.setNodeAttribute(b,e.attributes.y,v))}return c}o.prototype.hasChildren=function(){return this.countChildren>0},o.prototype.addChild=function(r,n){this.children[r]=n,++this.countChildren},o.prototype.getChild=function(r){if(!this.children.hasOwnProperty(r)){var n=new o;this.children[r]=n,++this.countChildren}return this.children[r]},o.prototype.applyPositionToChildren=function(){if(this.hasChildren()){for(var r in this.children){var n=this.children[r];n.x+=this.x,n.y+=this.y,n.applyPositionToChildren()}}};var b=g.bind(null,!1);b.assign=g.bind(null,!0),r.exports=b},242:function(r,n){r.exports=function r(n,e){n=n||{};var t,i={};for(var l in e){var a=n[l],o=e[l];!(t=o)||"object"!=typeof t||"function"==typeof t||Array.isArray(t)||t instanceof Set||t instanceof Map||t instanceof RegExp||t instanceof Date?i[l]=void 0===a?o:a:i[l]=r(a,o)}return i}},243:function(r,n,e){var t=e(244).createRandom;function i(r){var n=t(r);return function(r){for(var e=r.length,t=e-1,i=-1;++i<e;){var l=n(i,t),a=r[l];r[l]=r[i],r[i]=a}}}var l=i(Math.random);l.createShuffleInPlace=i,r.exports=l},244:function(r,n){function e(r){return function(n,e){return n+Math.floor(r()*(e-n+1))}}var t=e(Math.random);t.createRandom=e,r.exports=t}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY2lyY2xlcGFjay5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JhcGhvbG9neS1sYXlvdXQvY2lyY2xlcGFjay5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JhcGhvbG9neS11dGlscy9kZWZhdWx0cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGFuZGVtb25pdW0vc2h1ZmZsZS1pbi1wbGFjZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGFuZGVtb25pdW0vcmFuZG9tLmpzIl0sIm5hbWVzIjpbImxheW91dF9jaXJjbGVwYWNrIiwiZ3JhcGgiLCJhc3NpZ24iLCJoaWVyYXJjaHlBdHRyaWJ1dGVzIiwicmVzb2x2ZURlZmF1bHRzIiwiaXNHcmFwaCIsInNodWZmbGUiLCJERUZBVUxUUyIsImF0dHJpYnV0ZXMiLCJ4IiwieSIsImNlbnRlciIsInJuZyIsIk1hdGgiLCJyYW5kb20iLCJzY2FsZSIsIkNpcmNsZVdyYXAiLCJpZCIsInIiLCJjaXJjbGVXcmFwIiwidGhpcyIsIndyYXBwZWRDaXJjbGUiLCJjaGlsZHJlbiIsImNvdW50Q2hpbGRyZW4iLCJuZXh0IiwicHJldmlvdXMiLCJlbmNsb3Nlc05vdCIsImEiLCJiIiwiZHIiLCJkeCIsImR5IiwiZW5jbG9zZXNXZWFrIiwiZW5jbG9zZXNXZWFrQWxsIiwiQiIsImkiLCJsZW5ndGgiLCJlbmNsb3NlQmFzaXMyIiwieDEiLCJ5MSIsInIxIiwieDIiLCJ5MiIsInIyIiwieDIxIiwieTIxIiwicjIxIiwibCIsInNxcnQiLCJlbmNsb3NlQmFzaXMzIiwiYyIsIngzIiwieTMiLCJyMyIsImEyIiwiYTMiLCJiMiIsImIzIiwiYzIiLCJjMyIsImQxIiwiZDIiLCJkMyIsImFiIiwieGEiLCJ4YiIsInlhIiwieWIiLCJBIiwiQyIsImVuY2xvc2VCYXNpcyIsIkVycm9yIiwiZXh0ZW5kQmFzaXMiLCJwIiwiaiIsInNjb3JlIiwibm9kZSIsInBsYWNlIiwibWF4IiwiaW50ZXJzZWN0cyIsInBhY2tFbmNsb3NlIiwiY2lyY2xlcyIsInNodWZmbGVGdW5jIiwiYWEiLCJjYSIsImsiLCJzaiIsInNrIiwibiIsInBhY2siLCJzYWZldHkiLCJwdXNoIiwiZSIsImNpcmNsZXNMb2MiLCJzbGljZSIsImVuY2xvc2UiLCJwYWNrSGllcmFyY2h5QW5kU2hpZnQiLCJwYXJlbnRDaXJjbGUiLCJrZXkiLCJwYWNrSGllcmFyY2h5IiwiaGFzQ2hpbGRyZW4iLCJjaXJjbGUiLCJPYmplY3QiLCJ2YWx1ZXMiLCJhcHBseVBvc2l0aW9uVG9DaGlsZHJlbiIsImdlbmVyaWNDaXJjbGVQYWNrTGF5b3V0Iiwib3B0aW9ucyIsInBvc01hcCIsInBvc2l0aW9ucyIsIm5vZGVzIiwiY3JlYXRlU2h1ZmZsZUluUGxhY2UiLCJjb250YWluZXIiLCJmb3JFYWNoTm9kZSIsIm5ld0NpcmNsZVdyYXAiLCJzaXplIiwicGFyZW50Q29udGFpbmVyIiwiZm9yRWFjaCIsInYiLCJhdHRyIiwiZ2V0Q2hpbGQiLCJhZGRDaGlsZCIsInNldE5vZGUiLCJzZXROb2RlQXR0cmlidXRlIiwicHJvdG90eXBlIiwiY2hpbGQiLCJoYXNPd25Qcm9wZXJ0eSIsImNpcmNsZVBhY2tMYXlvdXQiLCJiaW5kIiwibW9kdWxlIiwiZXhwb3J0cyIsInRhcmdldCIsImRlZmF1bHRzIiwibyIsIm91dHB1dCIsImV4aXN0aW5nIiwiZGVmIiwiQXJyYXkiLCJpc0FycmF5IiwiU2V0IiwiTWFwIiwiUmVnRXhwIiwiRGF0ZSIsInVuZGVmaW5lZCIsImNyZWF0ZVJhbmRvbSIsImN1c3RvbVJhbmRvbSIsInNlcXVlbmNlIiwibGFzdEluZGV4IiwiaW5kZXgiLCJ2YWx1ZSIsInNodWZmbGVJblBsYWNlIiwiZmxvb3IiXSwibWFwcGluZ3MiOiIwRkFBQSwrRUFFTyxTQUFTQSxFQUFrQkMsR0FDOUIsSUFBV0MsT0FBT0QsRUFBTyxDQUFDRSxvQkFBcUIsQ0FBQyxZQUFhLGMsb0JDR2pFLElBQUlDLEVBQWtCLEVBQVEs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U0UsR0FBU0MsSUFReEIsSUFBSUMsRUFBaUJ2QyxFQUFxQmpHLEtBQUtDLFFBSy9DdUksRUFBZXZDLHFCQUF1QkEsRUFDdENrQixFQUFPQyxRQUFVb0IsRyxrQkNuQ2pCLFNBQVNOLEVBQWFuSSxHQVNwQixPQUFPLFNBQVNlLEVBQUdDLEdBQ2pCLE9BQU9ELEVBQUlkLEtBQUt5SSxNQUFNMUksS0FBU2dCLEVBQUlELEVBQUksS0FPM0MsSUFBSWIsRUFBU2lJLEVBQWFsSSxLQUFLQyxRQUsvQkEsRUFBT2lJLGFBQWVBLEVBQ3RCZixFQUFPQyxRQUFVbkgiLCJmaWxlIjoiY2lyY2xlcGFjay5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjaXJjbGVwYWNrIGZyb20gXCJncmFwaG9sb2d5LWxheW91dC9jaXJjbGVwYWNrXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBsYXlvdXRfY2lyY2xlcGFjayhncmFwaCkge1xuICAgIGNpcmNsZXBhY2suYXNzaWduKGdyYXBoLCB7aGllcmFyY2h5QXR0cmlidXRlczogWydjb21tdW5pdHknLCAnZGVncmVlJ119KTtcbn1cbiIsIi8qKlxuICogR3JhcGhvbG9neSBDaXJjbGVQYWNrIExheW91dFxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqXG4gKiBDaXJjbGVwYWNrIGxheW91dCBmcm9tIGQzLWhpZXJhcmNoeS9nZXBoaS5cbiAqL1xudmFyIHJlc29sdmVEZWZhdWx0cyA9IHJlcXVpcmUoJ2dyYXBob2xvZ3ktdXRpbHMvZGVmYXVsdHMnKTtcbnZhciBpc0dyYXBoID0gcmVxdWlyZSgnZ3JhcGhvbG9neS11dGlscy9pcy1ncmFwaCcpO1xudmFyIHNodWZmbGUgPSByZXF1aXJlKCdwYW5kZW1vbml1bS9zaHVmZmxlLWluLXBsYWNlJyk7XG5cbi8qKlxuICogRGVmYXVsdCBvcHRpb25zLlxuICovXG52YXIgREVGQVVMVFMgPSB7XG4gIGF0dHJpYnV0ZXM6IHtcbiAgICB4OiAneCcsXG4gICAgeTogJ3knXG4gIH0sXG4gIGNlbnRlcjogMCxcbiAgaGllcmFyY2h5QXR0cmlidXRlczogW10sXG4gIHJuZzogTWF0aC5yYW5kb20sXG4gIHNjYWxlOiAxXG59O1xuXG4vKipcbiAqIEhlbHBlcnMuXG4gKi9cbmZ1bmN0aW9uIENpcmNsZVdyYXAoaWQsIHgsIHksIHIsIGNpcmNsZVdyYXApIHtcbiAgdGhpcy53cmFwcGVkQ2lyY2xlID0gY2lyY2xlV3JhcCB8fCBudWxsOyAvL2hhY2t5IGQzIHJlZmVyZW5jZSB0aGluZ1xuXG4gIHRoaXMuY2hpbGRyZW4gPSB7fTtcbiAgdGhpcy5jb3VudENoaWxkcmVuID0gMDtcbiAgdGhpcy5pZCA9IGlkIHx8IG51bGw7XG4gIHRoaXMubmV4dCA9IG51bGw7XG4gIHRoaXMucHJldmlvdXMgPSBudWxsO1xuXG4gIHRoaXMueCA9IHggfHwgbnVsbDtcbiAgdGhpcy55ID0geSB8fCBudWxsO1xuICBpZiAoY2lyY2xlV3JhcCkgdGhpcy5yID0gMTAxMDEwMTtcbiAgLy8gZm9yIGRlYnVnZ2luZyBwdXJwb3NlcyAtIHNob3VsZCBub3QgYmUgdXNlZCBpbiB0aGlzIGNhc2VcbiAgZWxzZSB0aGlzLnIgPSByIHx8IDk5OTtcbn1cblxuQ2lyY2xlV3JhcC5wcm90b3R5cGUuaGFzQ2hpbGRyZW4gPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLmNvdW50Q2hpbGRyZW4gPiAwO1xufTtcblxuQ2lyY2xlV3JhcC5wcm90b3R5cGUuYWRkQ2hpbGQgPSBmdW5jdGlvbiAoaWQsIGNoaWxkKSB7XG4gIHRoaXMuY2hpbGRyZW5baWRdID0gY2hpbGQ7XG4gICsrdGhpcy5jb3VudENoaWxkcmVuO1xufTtcblxuQ2lyY2xlV3JhcC5wcm90b3R5cGUuZ2V0Q2hpbGQgPSBmdW5jdGlvbiAoaWQpIHtcbiAgaWYgKCF0aGlzLmNoaWxkcmVuLmhhc093blByb3BlcnR5KGlkKSkge1xuICAgIHZhciBjaXJjbGVXcmFwID0gbmV3IENpcmNsZVdyYXAoKTtcbiAgICB0aGlzLmNoaWxkcmVuW2lkXSA9IGNpcmNsZVdyYXA7XG4gICAgKyt0aGlzLmNvdW50Q2hpbGRyZW47XG4gIH1cbiAgcmV0dXJuIHRoaXMuY2hpbGRyZW5baWRdO1xufTtcblxuQ2lyY2xlV3JhcC5wcm90b3R5cGUuYXBwbHlQb3NpdGlvblRvQ2hpbGRyZW4gPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmhhc0NoaWxkcmVuKCkpIHtcbiAgICB2YXIgcm9vdCA9IHRoaXM7IC8vIHVzaW5nICd0aGlzJyBpbiBPYmplY3Qua2V5cy5mb3JFYWNoIHNlZW1zIGEgYmFkIGlkZWFcbiAgICBmb3IgKHZhciBrZXkgaW4gcm9vdC5jaGlsZHJlbikge1xuICAgICAgdmFyIGNoaWxkID0gcm9vdC5jaGlsZHJlbltrZXldO1xuICAgICAgY2hpbGQueCArPSByb290Lng7XG4gICAgICBjaGlsZC55ICs9IHJvb3QueTtcbiAgICAgIGNoaWxkLmFwcGx5UG9zaXRpb25Ub0NoaWxkcmVuKCk7XG4gICAgfVxuICB9XG59O1xuXG5mdW5jdGlvbiBzZXROb2RlKC8qR3JhcGgqLyBncmFwaCwgLypDaXJjbGVXcmFwKi8gcGFyZW50Q2lyY2xlLCAvKk1hcCovIHBvc01hcCkge1xuICBmb3IgKHZhciBrZXkgaW4gcGFyZW50Q2lyY2xlLmNoaWxkcmVuKSB7XG4gICAgdmFyIGNpcmNsZSA9IHBhcmVudENpcmNsZS5jaGlsZHJlbltrZXldO1xuICAgIGlmIChjaXJjbGUuaGFzQ2hpbGRyZW4oKSkge1xuICAgICAgc2V0Tm9kZShncmFwaCwgY2lyY2xlLCBwb3NNYXApO1xuICAgIH0gZWxzZSB7XG4gICAgICBwb3NNYXBbY2lyY2xlLmlkXSA9IHt4OiBjaXJjbGUueCwgeTogY2lyY2xlLnl9O1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBlbmNsb3Nlc05vdCgvKkNpcmNsZVdyYXAqLyBhLCAvKkNpcmNsZVdyYXAqLyBiKSB7XG4gIHZhciBkciA9IGEuciAtIGIucjtcbiAgdmFyIGR4ID0gYi54IC0gYS54O1xuICB2YXIgZHkgPSBiLnkgLSBhLnk7XG4gIHJldHVybiBkciA8IDAgfHwgZHIgKiBkciA8IGR4ICogZHggKyBkeSAqIGR5O1xufVxuXG5mdW5jdGlvbiBlbmNsb3Nlc1dlYWsoLypDaXJjbGVXcmFwKi8gYSwgLypDaXJjbGVXcmFwKi8gYikge1xuICB2YXIgZHIgPSBhLnIgLSBiLnIgKyAxZS02O1xuICB2YXIgZHggPSBiLnggLSBhLng7XG4gIHZhciBkeSA9IGIueSAtIGEueTtcbiAgcmV0dXJuIGRyID4gMCAmJiBkciAqIGRyID4gZHggKiBkeCArIGR5ICogZHk7XG59XG5cbmZ1bmN0aW9uIGVuY2xvc2VzV2Vha0FsbCgvKkNpcmNsZVdyYXAqLyBhLCAvKkFycmF5PENpcmNsZVdyYXA+Ki8gQikge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IEIubGVuZ3RoOyArK2kpIHtcbiAgICBpZiAoIWVuY2xvc2VzV2VhayhhLCBCW2ldKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gZW5jbG9zZUJhc2lzMSgvKkNpcmNsZVdyYXAqLyBhKSB7XG4gIHJldHVybiBuZXcgQ2lyY2xlV3JhcChudWxsLCBhLngsIGEueSwgYS5yKTtcbn1cblxuZnVuY3Rpb24gZW5jbG9zZUJhc2lzMigvKkNpcmNsZVdyYXAqLyBhLCAvKkNpcmNsZVdyYXAqLyBiKSB7XG4gIHZhciB4MSA9IGEueCxcbiAgICB5MSA9IGEueSxcbiAgICByMSA9IGEucixcbiAgICB4MiA9IGIueCxcbiAgICB5MiA9IGIueSxcbiAgICByMiA9IGIucixcbiAgICB4MjEgPSB4MiAtIHgxLFxuICAgIHkyMSA9IHkyIC0geTEsXG4gICAgcjIxID0gcjIgLSByMSxcbiAgICBsID0gTWF0aC5zcXJ0KHgyMSAqIHgyMSArIHkyMSAqIHkyMSk7XG4gIHJldHVybiBuZXcgQ2lyY2xlV3JhcChcbiAgICBudWxsLFxuICAgICh4MSArIHgyICsgKHgyMSAvIGwpICogcjIxKSAvIDIsXG4gICAgKHkxICsgeTIgKyAoeTIxIC8gbCkgKiByMjEpIC8gMixcbiAgICAobCArIHIxICsgcjIpIC8gMlxuICApO1xufVxuXG5mdW5jdGlvbiBlbmNsb3NlQmFzaXMzKC8qQ2lyY2xlV3JhcCovIGEsIC8qQ2lyY2xlV3JhcCovIGIsIC8qQ2lyY2xlV3JhcCovIGMpIHtcbiAgdmFyIHgxID0gYS54LFxuICAgIHkxID0gYS55LFxuICAgIHIxID0gYS5yLFxuICAgIHgyID0gYi54LFxuICAgIHkyID0gYi55LFxuICAgIHIyID0gYi5yLFxuICAgIHgzID0gYy54LFxuICAgIHkzID0gYy55LFxuICAgIHIzID0gYy5yLFxuICAgIGEyID0geDEgLSB4MixcbiAgICBhMyA9IHgxIC0geDMsXG4gICAgYjIgPSB5MSAtIHkyLFxuICAgIGIzID0geTEgLSB5MyxcbiAgICBjMiA9IHIyIC0gcjEsXG4gICAgYzMgPSByMyAtIHIxLFxuICAgIGQxID0geDEgKiB4MSArIHkxICogeTEgLSByMSAqIHIxLFxuICAgIGQyID0gZDEgLSB4MiAqIHgyIC0geTIgKiB5MiArIHIyICogcjIsXG4gICAgZDMgPSBkMSAtIHgzICogeDMgLSB5MyAqIHkzICsgcjMgKiByMyxcbiAgICBhYiA9IGEzICogYjIgLSBhMiAqIGIzLFxuICAgIHhhID0gKGIyICogZDMgLSBiMyAqIGQyKSAvIChhYiAqIDIpIC0geDEsXG4gICAgeGIgPSAoYjMgKiBjMiAtIGIyICogYzMpIC8gYWIsXG4gICAgeWEgPSAoYTMgKiBkMiAtIGEyICogZDMpIC8gKGFiICogMikgLSB5MSxcbiAgICB5YiA9IChhMiAqIGMzIC0gYTMgKiBjMikgLyBhYixcbiAgICBBID0geGIgKiB4YiArIHliICogeWIgLSAxLFxuICAgIEIgPSAyICogKHIxICsgeGEgKiB4YiArIHlhICogeWIpLFxuICAgIEMgPSB4YSAqIHhhICsgeWEgKiB5YSAtIHIxICogcjEsXG4gICAgciA9IC0oQSA/IChCICsgTWF0aC5zcXJ0KEIgKiBCIC0gNCAqIEEgKiBDKSkgLyAoMiAqIEEpIDogQyAvIEIpO1xuICByZXR1cm4gbmV3IENpcmNsZVdyYXAobnVsbCwgeDEgKyB4YSArIHhiICogciwgeTEgKyB5YSArIHliICogciwgcik7XG59XG5cbmZ1bmN0aW9uIGVuY2xvc2VCYXNpcygvKkFycmF5PENpcmNsZVdyYXA+Ki8gQikge1xuICBzd2l0Y2ggKEIubGVuZ3RoKSB7XG4gICAgY2FzZSAxOlxuICAgICAgcmV0dXJuIGVuY2xvc2VCYXNpczEoQlswXSk7XG4gICAgY2FzZSAyOlxuICAgICAgcmV0dXJuIGVuY2xvc2VCYXNpczIoQlswXSwgQlsxXSk7XG4gICAgY2FzZSAzOlxuICAgICAgcmV0dXJuIGVuY2xvc2VCYXNpczMoQlswXSwgQlsxXSwgQlsyXSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ2dyYXBob2xvZ3ktbGF5b3V0L2NpcmNsZXBhY2s6IEludmFsaWQgYmFzaXMgbGVuZ3RoICcgKyBCLmxlbmd0aFxuICAgICAgKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBleHRlbmRCYXNpcygvKkFycmF5PENpcmNsZVdyYXA+Ki8gQiwgLypDaXJjbGVXcmFwKi8gcCkge1xuICB2YXIgaSwgajtcblxuICBpZiAoZW5jbG9zZXNXZWFrQWxsKHAsIEIpKSByZXR1cm4gW3BdO1xuXG4gIC8vIElmIHdlIGdldCBoZXJlIHRoZW4gQiBtdXN0IGhhdmUgYXQgbGVhc3Qgb25lIGVsZW1lbnQuXG4gIGZvciAoaSA9IDA7IGkgPCBCLmxlbmd0aDsgKytpKSB7XG4gICAgaWYgKGVuY2xvc2VzTm90KHAsIEJbaV0pICYmIGVuY2xvc2VzV2Vha0FsbChlbmNsb3NlQmFzaXMyKEJbaV0sIHApLCBCKSkge1xuICAgICAgcmV0dXJuIFtCW2ldLCBwXTtcbiAgICB9XG4gIH1cblxuICAvLyBJZiB3ZSBnZXQgaGVyZSB0aGVuIEIgbXVzdCBoYXZlIGF0IGxlYXN0IHR3byBlbGVtZW50cy5cbiAgZm9yIChpID0gMDsgaSA8IEIubGVuZ3RoIC0gMTsgKytpKSB7XG4gICAgZm9yIChqID0gaSArIDE7IGogPCBCLmxlbmd0aDsgKytqKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGVuY2xvc2VzTm90KGVuY2xvc2VCYXNpczIoQltpXSwgQltqXSksIHApICYmXG4gICAgICAgIGVuY2xvc2VzTm90KGVuY2xvc2VCYXNpczIoQltpXSwgcCksIEJbal0pICYmXG4gICAgICAgIGVuY2xvc2VzTm90KGVuY2xvc2VCYXNpczIoQltqXSwgcCksIEJbaV0pICYmXG4gICAgICAgIGVuY2xvc2VzV2Vha0FsbChlbmNsb3NlQmFzaXMzKEJbaV0sIEJbal0sIHApLCBCKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBbQltpXSwgQltqXSwgcF07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gSWYgd2UgZ2V0IGhlcmUgdGhlbiBzb21ldGhpbmcgaXMgdmVyeSB3cm9uZy5cbiAgdGhyb3cgbmV3IEVycm9yKCdncmFwaG9sb2d5LWxheW91dC9jaXJjbGVwYWNrOiBleHRlbmRCYXNpcyBmYWlsdXJlICEnKTtcbn1cblxuZnVuY3Rpb24gc2NvcmUoLypDaXJjbGVXcmFwKi8gbm9kZSkge1xuICB2YXIgYSA9IG5vZGUud3JhcHBlZENpcmNsZTtcbiAgdmFyIGIgPSBub2RlLm5leHQud3JhcHBlZENpcmNsZTtcbiAgdmFyIGFiID0gYS5yICsgYi5yO1xuICB2YXIgZHggPSAoYS54ICogYi5yICsgYi54ICogYS5yKSAvIGFiO1xuICB2YXIgZHkgPSAoYS55ICogYi5yICsgYi55ICogYS5yKSAvIGFiO1xuICByZXR1cm4gZHggKiBkeCArIGR5ICogZHk7XG59XG5cbmZ1bmN0aW9uIGVuY2xvc2UoY2lyY2xlcywgc2h1ZmZsZUZ1bmMpIHtcbiAgdmFyIGkgPSAwO1xuICB2YXIgY2lyY2xlc0xvYyA9IGNpcmNsZXMuc2xpY2UoKTtcblxuICB2YXIgbiA9IGNpcmNsZXMubGVuZ3RoO1xuICB2YXIgQiA9IFtdO1xuICB2YXIgcDtcbiAgdmFyIGU7XG4gIHNodWZmbGVGdW5jKGNpcmNsZXNMb2MpO1xuICB3aGlsZSAoaSA8IG4pIHtcbiAgICBwID0gY2lyY2xlc0xvY1tpXTtcbiAgICBpZiAoZSAmJiBlbmNsb3Nlc1dlYWsoZSwgcCkpIHtcbiAgICAgICsraTtcbiAgICB9IGVsc2Uge1xuICAgICAgQiA9IGV4dGVuZEJhc2lzKEIsIHApO1xuICAgICAgZSA9IGVuY2xvc2VCYXNpcyhCKTtcbiAgICAgIGkgPSAwO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZTtcbn1cblxuZnVuY3Rpb24gcGxhY2UoLypDaXJjbGVXcmFwKi8gYiwgLypDaXJjbGVXcmFwKi8gYSwgLypDaXJjbGVXcmFwKi8gYykge1xuICB2YXIgZHggPSBiLnggLSBhLngsXG4gICAgeCxcbiAgICBhMixcbiAgICBkeSA9IGIueSAtIGEueSxcbiAgICB5LFxuICAgIGIyLFxuICAgIGQyID0gZHggKiBkeCArIGR5ICogZHk7XG4gIGlmIChkMikge1xuICAgIGEyID0gYS5yICsgYy5yO1xuICAgIGEyICo9IGEyO1xuICAgIGIyID0gYi5yICsgYy5yO1xuICAgIGIyICo9IGIyO1xuICAgIGlmIChhMiA+IGIyKSB7XG4gICAgICB4ID0gKGQyICsgYjIgLSBhMikgLyAoMiAqIGQyKTtcbiAgICAgIHkgPSBNYXRoLnNxcnQoTWF0aC5tYXgoMCwgYjIgLyBkMiAtIHggKiB4KSk7XG4gICAgICBjLnggPSBiLnggLSB4ICogZHggLSB5ICogZHk7XG4gICAgICBjLnkgPSBiLnkgLSB4ICogZHkgKyB5ICogZHg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHggPSAoZDIgKyBhMiAtIGIyKSAvICgyICogZDIpO1xuICAgICAgeSA9IE1hdGguc3FydChNYXRoLm1heCgwLCBhMiAvIGQyIC0geCAqIHgpKTtcbiAgICAgIGMueCA9IGEueCArIHggKiBkeCAtIHkgKiBkeTtcbiAgICAgIGMueSA9IGEueSArIHggKiBkeSArIHkgKiBkeDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgYy54ID0gYS54ICsgYy5yO1xuICAgIGMueSA9IGEueTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbnRlcnNlY3RzKC8qQ2lyY2xlV3JhcCovIGEsIC8qQ2lyY2xlV3JhcCovIGIpIHtcbiAgdmFyIGRyID0gYS5yICsgYi5yIC0gMWUtNixcbiAgICBkeCA9IGIueCAtIGEueCxcbiAgICBkeSA9IGIueSAtIGEueTtcbiAgcmV0dXJuIGRyID4gMCAmJiBkciAqIGRyID4gZHggKiBkeCArIGR5ICogZHk7XG59XG5cbmZ1bmN0aW9uIHBhY2tFbmNsb3NlKC8qQXJyYXk8Q2lyY2xlV3JhcD4qLyBjaXJjbGVzLCBzaHVmZmxlRnVuYykge1xuICB2YXIgbiA9IGNpcmNsZXMubGVuZ3RoO1xuICBpZiAobiA9PT0gMCkgcmV0dXJuIDA7XG5cbiAgdmFyIGEsIGIsIGMsIGFhLCBjYSwgaSwgaiwgaywgc2osIHNrO1xuXG4gIC8vIFBsYWNlIHRoZSBmaXJzdCBjaXJjbGUuXG4gIGEgPSBjaXJjbGVzWzBdO1xuICBhLnggPSAwO1xuICBhLnkgPSAwO1xuICBpZiAobiA8PSAxKSByZXR1cm4gYS5yO1xuXG4gIC8vIFBsYWNlIHRoZSBzZWNvbmQgY2lyY2xlLlxuICBiID0gY2lyY2xlc1sxXTtcbiAgYS54ID0gLWIucjtcbiAgYi54ID0gYS5yO1xuICBiLnkgPSAwO1xuICBpZiAobiA8PSAyKSByZXR1cm4gYS5yICsgYi5yO1xuXG4gIC8vIFBsYWNlIHRoZSB0aGlyZCBjaXJjbGUuXG4gIGMgPSBjaXJjbGVzWzJdO1xuICBwbGFjZShiLCBhLCBjKTtcblxuICAvLyBJbml0aWFsaXplIHRoZSBmcm9udC1jaGFpbiB1c2luZyB0aGUgZmlyc3QgdGhyZWUgY2lyY2xlcyBhLCBiIGFuZCBjLlxuICBhID0gbmV3IENpcmNsZVdyYXAobnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgYSk7XG4gIGIgPSBuZXcgQ2lyY2xlV3JhcChudWxsLCBudWxsLCBudWxsLCBudWxsLCBiKTtcbiAgYyA9IG5ldyBDaXJjbGVXcmFwKG51bGwsIG51bGwsIG51bGwsIG51bGwsIGMpO1xuICBhLm5leHQgPSBjLnByZXZpb3VzID0gYjtcbiAgYi5uZXh0ID0gYS5wcmV2aW91cyA9IGM7XG4gIGMubmV4dCA9IGIucHJldmlvdXMgPSBhO1xuXG4gIC8vIEF0dGVtcHQgdG8gcGxhY2UgZWFjaCByZW1haW5pbmcgY2lyY2xl4oCmXG4gIHBhY2s6IGZvciAoaSA9IDM7IGkgPCBuOyArK2kpIHtcbiAgICBjID0gY2lyY2xlc1tpXTtcbiAgICBwbGFjZShhLndyYXBwZWRDaXJjbGUsIGIud3JhcHBlZENpcmNsZSwgYyk7XG4gICAgYyA9IG5ldyBDaXJjbGVXcmFwKG51bGwsIG51bGwsIG51bGwsIG51bGwsIGMpO1xuXG4gICAgLy8gRmluZCB0aGUgY2xvc2VzdCBpbnRlcnNlY3RpbmcgY2lyY2xlIG9uIHRoZSBmcm9udC1jaGFpbiwgaWYgYW55LlxuICAgIC8vIOKAnENsb3NlbmVzc+KAnSBpcyBkZXRlcm1pbmVkIGJ5IGxpbmVhciBkaXN0YW5jZSBhbG9uZyB0aGUgZnJvbnQtY2hhaW4uXG4gICAgLy8g4oCcQWhlYWTigJ0gb3Ig4oCcYmVoaW5k4oCdIGlzIGxpa2V3aXNlIGRldGVybWluZWQgYnkgbGluZWFyIGRpc3RhbmNlLlxuICAgIGogPSBiLm5leHQ7XG4gICAgayA9IGEucHJldmlvdXM7XG4gICAgc2ogPSBiLndyYXBwZWRDaXJjbGUucjtcbiAgICBzayA9IGEud3JhcHBlZENpcmNsZS5yO1xuICAgIGRvIHtcbiAgICAgIGlmIChzaiA8PSBzaykge1xuICAgICAgICBpZiAoaW50ZXJzZWN0cyhqLndyYXBwZWRDaXJjbGUsIGMud3JhcHBlZENpcmNsZSkpIHtcbiAgICAgICAgICBiID0gajtcbiAgICAgICAgICBhLm5leHQgPSBiO1xuICAgICAgICAgIGIucHJldmlvdXMgPSBhO1xuICAgICAgICAgIC0taTtcbiAgICAgICAgICBjb250aW51ZSBwYWNrO1xuICAgICAgICB9XG4gICAgICAgIHNqICs9IGoud3JhcHBlZENpcmNsZS5yO1xuICAgICAgICBqID0gai5uZXh0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGludGVyc2VjdHMoay53cmFwcGVkQ2lyY2xlLCBjLndyYXBwZWRDaXJjbGUpKSB7XG4gICAgICAgICAgYSA9IGs7XG4gICAgICAgICAgYS5uZXh0ID0gYjtcbiAgICAgICAgICBiLnByZXZpb3VzID0gYTtcbiAgICAgICAgICAtLWk7XG4gICAgICAgICAgY29udGludWUgcGFjaztcbiAgICAgICAgfVxuICAgICAgICBzayArPSBrLndyYXBwZWRDaXJjbGUucjtcbiAgICAgICAgayA9IGsucHJldmlvdXM7XG4gICAgICB9XG4gICAgfSB3aGlsZSAoaiAhPT0gay5uZXh0KTtcblxuICAgIC8vIFN1Y2Nlc3MhIEluc2VydCB0aGUgbmV3IGNpcmNsZSBjIGJldHdlZW4gYSBhbmQgYi5cbiAgICBjLnByZXZpb3VzID0gYTtcbiAgICBjLm5leHQgPSBiO1xuICAgIGEubmV4dCA9IGIucHJldmlvdXMgPSBiID0gYztcblxuICAgIC8vIENvbXB1dGUgdGhlIG5ldyBjbG9zZXN0IGNpcmNsZSBwYWlyIHRvIHRoZSBjZW50cm9pZC5cbiAgICBhYSA9IHNjb3JlKGEpO1xuICAgIHdoaWxlICgoYyA9IGMubmV4dCkgIT09IGIpIHtcbiAgICAgIGlmICgoY2EgPSBzY29yZShjKSkgPCBhYSkge1xuICAgICAgICBhID0gYztcbiAgICAgICAgYWEgPSBjYTtcbiAgICAgIH1cbiAgICB9XG4gICAgYiA9IGEubmV4dDtcbiAgfVxuXG4gIC8vIENvbXB1dGUgdGhlIGVuY2xvc2luZyBjaXJjbGUgb2YgdGhlIGZyb250IGNoYWluLlxuICBhID0gW2Iud3JhcHBlZENpcmNsZV07XG4gIGMgPSBiO1xuICB2YXIgc2FmZXR5ID0gMTAwMDA7XG4gIHdoaWxlICgoYyA9IGMubmV4dCkgIT09IGIpIHtcbiAgICBpZiAoLS1zYWZldHkgPT09IDApIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBhLnB1c2goYy53cmFwcGVkQ2lyY2xlKTtcbiAgfVxuICBjID0gZW5jbG9zZShhLCBzaHVmZmxlRnVuYyk7XG5cbiAgLy8gVHJhbnNsYXRlIHRoZSBjaXJjbGVzIHRvIHB1dCB0aGUgZW5jbG9zaW5nIGNpcmNsZSBhcm91bmQgdGhlIG9yaWdpbi5cbiAgZm9yIChpID0gMDsgaSA8IG47ICsraSkge1xuICAgIGEgPSBjaXJjbGVzW2ldO1xuICAgIGEueCAtPSBjLng7XG4gICAgYS55IC09IGMueTtcbiAgfVxuICByZXR1cm4gYy5yO1xufVxuXG5mdW5jdGlvbiBwYWNrSGllcmFyY2h5KC8qQ2lyY2xlV3JhcCovIHBhcmVudENpcmNsZSwgc2h1ZmZsZUZ1bmMpIHtcbiAgdmFyIHIgPSAwO1xuICBpZiAocGFyZW50Q2lyY2xlLmhhc0NoaWxkcmVuKCkpIHtcbiAgICAvL3BhY2sgdGhlIGNoaWxkcmVuIGZpcnN0IGJlY2F1c2UgdGhlIHJhZGl1cyBpcyBkZXRlcm1pbmVkIGJ5IGhvdyB0aGUgY2hpbGRyZW4gZ2V0IHBhY2tlZCAocmVjdXJzaXZlKVxuICAgIGZvciAodmFyIGtleSBpbiBwYXJlbnRDaXJjbGUuY2hpbGRyZW4pIHtcbiAgICAgIHZhciBjaXJjbGUgPSBwYXJlbnRDaXJjbGUuY2hpbGRyZW5ba2V5XTtcbiAgICAgIGlmIChjaXJjbGUuaGFzQ2hpbGRyZW4oKSkge1xuICAgICAgICBjaXJjbGUuciA9IHBhY2tIaWVyYXJjaHkoY2lyY2xlLCBzaHVmZmxlRnVuYyk7XG4gICAgICB9XG4gICAgfVxuICAgIC8vbm93IHRoYXQgZWFjaCBjaXJjbGUgaGFzIGEgcmFkaXVzIHNldCBieSBpdHMgY2hpbGRyZW4sIHBhY2sgdGhlIGNpcmNsZXMgYXQgdGhpcyBsZXZlbFxuICAgIHIgPSBwYWNrRW5jbG9zZShPYmplY3QudmFsdWVzKHBhcmVudENpcmNsZS5jaGlsZHJlbiksIHNodWZmbGVGdW5jKTtcbiAgfVxuICByZXR1cm4gcjtcbn1cblxuZnVuY3Rpb24gcGFja0hpZXJhcmNoeUFuZFNoaWZ0KC8qQ2lyY2xlV3JhcCovIHBhcmVudENpcmNsZSwgc2h1ZmZsZUZ1bmMpIHtcbiAgcGFja0hpZXJhcmNoeShwYXJlbnRDaXJjbGUsIHNodWZmbGVGdW5jKTtcbiAgZm9yICh2YXIga2V5IGluIHBhcmVudENpcmNsZS5jaGlsZHJlbikge1xuICAgIHZhciBjaXJjbGUgPSBwYXJlbnRDaXJjbGUuY2hpbGRyZW5ba2V5XTtcbiAgICBjaXJjbGUuYXBwbHlQb3NpdGlvblRvQ2hpbGRyZW4oKTtcbiAgfVxufVxuXG4vKipcbiAqIEFic3RyYWN0IGZ1bmN0aW9uIHJ1bm5pbmcgdGhlIGxheW91dC5cbiAqXG4gKiBAcGFyYW0gIHtHcmFwaH0gICAgZ3JhcGggICAgICAgICAgICAgICAgICAgLSBUYXJnZXQgIGdyYXBoLlxuICogQHBhcmFtICB7b2JqZWN0fSAgIFtvcHRpb25zXSAgICAgICAgICAgICAgIC0gT3B0aW9uczpcbiAqIEBwYXJhbSAge29iamVjdH0gICAgIFthdHRyaWJ1dGVzXSAgICAgICAgICAtIEF0dHJpYnV0ZXMgbmFtZXMgdG8gbWFwLlxuICogQHBhcmFtICB7bnVtYmVyfSAgICAgW2NlbnRlcl0gICAgICAgICAgICAgIC0gQ2VudGVyIG9mIHRoZSBsYXlvdXQuXG4gKiBAcGFyYW0gIHtzdHJpbmdbXX0gICBbaGllcmFyY2h5QXR0cmlidXRlc10gLSBMaXN0IG9mIGF0dHJpYnV0ZXMgdXNlZCBmb3IgdGhlIGxheW91dCBpbiBkZWNyZWFzaW5nIG9yZGVyLlxuICogQHBhcmFtICB7ZnVuY3Rpb259ICAgW3JuZ10gICAgICAgICAgICAgICAgIC0gQ3VzdG9tIFJORyBmdW5jdGlvbiB0byBiZSB1c2VkLlxuICogQHBhcmFtICB7bnVtYmVyfSAgICAgW3NjYWxlXSAgICAgICAgICAgICAgIC0gU2NhbGUgb2YgdGhlIGxheW91dC5cbiAqIEByZXR1cm4ge29iamVjdH0gICAgICAgICAgICAgICAgICAgICAgICAgICAtIFRoZSBwb3NpdGlvbnMgYnkgbm9kZS5cbiAqL1xuZnVuY3Rpb24gZ2VuZXJpY0NpcmNsZVBhY2tMYXlvdXQoYXNzaWduLCBncmFwaCwgb3B0aW9ucykge1xuICBpZiAoIWlzR3JhcGgoZ3JhcGgpKVxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdncmFwaG9sb2d5LWxheW91dC9jaXJjbGVwYWNrOiB0aGUgZ2l2ZW4gZ3JhcGggaXMgbm90IGEgdmFsaWQgZ3JhcGhvbG9neSBpbnN0YW5jZS4nXG4gICAgKTtcblxuICBvcHRpb25zID0gcmVzb2x2ZURlZmF1bHRzKG9wdGlvbnMsIERFRkFVTFRTKTtcblxuICB2YXIgcG9zTWFwID0ge30sXG4gICAgcG9zaXRpb25zID0ge30sXG4gICAgbm9kZXMgPSBncmFwaC5ub2RlcygpLFxuICAgIGNlbnRlciA9IG9wdGlvbnMuY2VudGVyLFxuICAgIGhpZXJhcmNoeUF0dHJpYnV0ZXMgPSBvcHRpb25zLmhpZXJhcmNoeUF0dHJpYnV0ZXMsXG4gICAgc2h1ZmZsZUZ1bmMgPSBzaHVmZmxlLmNyZWF0ZVNodWZmbGVJblBsYWNlKG9wdGlvbnMucm5nKSxcbiAgICBzY2FsZSA9IG9wdGlvbnMuc2NhbGU7XG5cbiAgdmFyIGNvbnRhaW5lciA9IG5ldyBDaXJjbGVXcmFwKCk7XG5cbiAgZ3JhcGguZm9yRWFjaE5vZGUoZnVuY3Rpb24gKGtleSwgYXR0cmlidXRlcykge1xuICAgIHZhciByID0gYXR0cmlidXRlcy5zaXplID8gYXR0cmlidXRlcy5zaXplIDogMTtcbiAgICB2YXIgbmV3Q2lyY2xlV3JhcCA9IG5ldyBDaXJjbGVXcmFwKGtleSwgbnVsbCwgbnVsbCwgcik7XG4gICAgdmFyIHBhcmVudENvbnRhaW5lciA9IGNvbnRhaW5lcjtcblxuICAgIGhpZXJhcmNoeUF0dHJpYnV0ZXMuZm9yRWFjaChmdW5jdGlvbiAodikge1xuICAgICAgdmFyIGF0dHIgPSBhdHRyaWJ1dGVzW3ZdO1xuICAgICAgcGFyZW50Q29udGFpbmVyID0gcGFyZW50Q29udGFpbmVyLmdldENoaWxkKGF0dHIpO1xuICAgIH0pO1xuXG4gICAgcGFyZW50Q29udGFpbmVyLmFkZENoaWxkKGtleSwgbmV3Q2lyY2xlV3JhcCk7XG4gIH0pO1xuICBwYWNrSGllcmFyY2h5QW5kU2hpZnQoY29udGFpbmVyLCBzaHVmZmxlRnVuYyk7XG4gIHNldE5vZGUoZ3JhcGgsIGNvbnRhaW5lciwgcG9zTWFwKTtcbiAgdmFyIGwgPSBub2Rlcy5sZW5ndGgsXG4gICAgeCxcbiAgICB5LFxuICAgIGk7XG4gIGZvciAoaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICB2YXIgbm9kZSA9IG5vZGVzW2ldO1xuXG4gICAgeCA9IGNlbnRlciArIHNjYWxlICogcG9zTWFwW25vZGVdLng7XG4gICAgeSA9IGNlbnRlciArIHNjYWxlICogcG9zTWFwW25vZGVdLnk7XG5cbiAgICBwb3NpdGlvbnNbbm9kZV0gPSB7XG4gICAgICB4OiB4LFxuICAgICAgeTogeVxuICAgIH07XG5cbiAgICBpZiAoYXNzaWduKSB7XG4gICAgICBncmFwaC5zZXROb2RlQXR0cmlidXRlKG5vZGUsIG9wdGlvbnMuYXR0cmlidXRlcy54LCB4KTtcbiAgICAgIGdyYXBoLnNldE5vZGVBdHRyaWJ1dGUobm9kZSwgb3B0aW9ucy5hdHRyaWJ1dGVzLnksIHkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcG9zaXRpb25zO1xufVxuXG52YXIgY2lyY2xlUGFja0xheW91dCA9IGdlbmVyaWNDaXJjbGVQYWNrTGF5b3V0LmJpbmQobnVsbCwgZmFsc2UpO1xuY2lyY2xlUGFja0xheW91dC5hc3NpZ24gPSBnZW5lcmljQ2lyY2xlUGFja0xheW91dC5iaW5kKG51bGwsIHRydWUpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNpcmNsZVBhY2tMYXlvdXQ7XG4iLCIvKipcbiAqIEdyYXBob2xvZ3kgRGVmYXVsdHNcbiAqID09PT09PT09PT09PT09PT09PT09XG4gKlxuICogSGVscGVyIGZ1bmN0aW9uIHVzZWQgdGhyb3VnaG91dCB0aGUgc3RhbmRhcmQgbGliIHRvIHJlc29sdmUgZGVmYXVsdHMuXG4gKi9cbmZ1bmN0aW9uIGlzTGVhZihvKSB7XG4gIHJldHVybiAoXG4gICAgIW8gfHxcbiAgICB0eXBlb2YgbyAhPT0gJ29iamVjdCcgfHxcbiAgICB0eXBlb2YgbyA9PT0gJ2Z1bmN0aW9uJyB8fFxuICAgIEFycmF5LmlzQXJyYXkobykgfHxcbiAgICBvIGluc3RhbmNlb2YgU2V0IHx8XG4gICAgbyBpbnN0YW5jZW9mIE1hcCB8fFxuICAgIG8gaW5zdGFuY2VvZiBSZWdFeHAgfHxcbiAgICBvIGluc3RhbmNlb2YgRGF0ZVxuICApO1xufVxuXG5mdW5jdGlvbiByZXNvbHZlRGVmYXVsdHModGFyZ2V0LCBkZWZhdWx0cykge1xuICB0YXJnZXQgPSB0YXJnZXQgfHwge307XG5cbiAgdmFyIG91dHB1dCA9IHt9O1xuXG4gIGZvciAodmFyIGsgaW4gZGVmYXVsdHMpIHtcbiAgICB2YXIgZXhpc3RpbmcgPSB0YXJnZXRba107XG4gICAgdmFyIGRlZiA9IGRlZmF1bHRzW2tdO1xuXG4gICAgLy8gUmVjdXJzaW9uXG4gICAgaWYgKCFpc0xlYWYoZGVmKSkge1xuICAgICAgb3V0cHV0W2tdID0gcmVzb2x2ZURlZmF1bHRzKGV4aXN0aW5nLCBkZWYpO1xuXG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBMZWFmXG4gICAgaWYgKGV4aXN0aW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG91dHB1dFtrXSA9IGRlZjtcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0cHV0W2tdID0gZXhpc3Rpbmc7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG91dHB1dDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSByZXNvbHZlRGVmYXVsdHM7XG4iLCIvKipcbiAqIFBhbmRlbW9uaXVtIFNodWZmbGUgSW4gUGxhY2VcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKlxuICogU2h1ZmZsZSBmdW5jdGlvbiBhcHBseWluZyB0aGUgRmlzaGVyLVlhdGVzIGFsZ29yaXRobSB0byB0aGUgcHJvdmlkZWQgYXJyYXkuXG4gKi9cbnZhciBjcmVhdGVSYW5kb20gPSByZXF1aXJlKCcuL3JhbmRvbS5qcycpLmNyZWF0ZVJhbmRvbTtcblxuLyoqXG4gKiBDcmVhdGluZyBhIGZ1bmN0aW9uIHJldHVybmluZyB0aGUgZ2l2ZW4gYXJyYXkgc2h1ZmZsZWQuXG4gKlxuICogQHBhcmFtICB7ZnVuY3Rpb259IHJuZyAtIFRoZSBSTkcgdG8gdXNlLlxuICogQHJldHVybiB7ZnVuY3Rpb259ICAgICAtIFRoZSBjcmVhdGVkIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBjcmVhdGVTaHVmZmxlSW5QbGFjZShybmcpIHtcbiAgdmFyIGN1c3RvbVJhbmRvbSA9IGNyZWF0ZVJhbmRvbShybmcpO1xuXG4gIC8qKlxuICAgKiBGdW5jdGlvbiByZXR1cm5pbmcgdGhlIHNodWZmbGVkIGFycmF5LlxuICAgKlxuICAgKiBAcGFyYW0gIHthcnJheX0gIHNlcXVlbmNlIC0gVGFyZ2V0IHNlcXVlbmNlLlxuICAgKiBAcmV0dXJuIHthcnJheX0gICAgICAgICAgIC0gVGhlIHNodWZmbGVkIHNlcXVlbmNlLlxuICAgKi9cbiAgcmV0dXJuIGZ1bmN0aW9uKHNlcXVlbmNlKSB7XG4gICAgdmFyIGxlbmd0aCA9IHNlcXVlbmNlLmxlbmd0aCxcbiAgICAgICAgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMTtcblxuICAgIHZhciBpbmRleCA9IC0xO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciByID0gY3VzdG9tUmFuZG9tKGluZGV4LCBsYXN0SW5kZXgpLFxuICAgICAgICAgIHZhbHVlID0gc2VxdWVuY2Vbcl07XG5cbiAgICAgIHNlcXVlbmNlW3JdID0gc2VxdWVuY2VbaW5kZXhdO1xuICAgICAgc2VxdWVuY2VbaW5kZXhdID0gdmFsdWU7XG4gICAgfVxuICB9O1xufVxuXG4vKipcbiAqIERlZmF1bHQgc2h1ZmZsZSBpbiBwbGFjZSB1c2luZyBgTWF0aC5yYW5kb21gLlxuICovXG52YXIgc2h1ZmZsZUluUGxhY2UgPSBjcmVhdGVTaHVmZmxlSW5QbGFjZShNYXRoLnJhbmRvbSk7XG5cbi8qKlxuICogRXhwb3J0aW5nLlxuICovXG5zaHVmZmxlSW5QbGFjZS5jcmVhdGVTaHVmZmxlSW5QbGFjZSA9IGNyZWF0ZVNodWZmbGVJblBsYWNlO1xubW9kdWxlLmV4cG9ydHMgPSBzaHVmZmxlSW5QbGFjZTtcbiIsIi8qKlxuICogUGFuZGVtb25pdW0gUmFuZG9tXG4gKiA9PT09PT09PT09PT09PT09PT09XG4gKlxuICogUmFuZG9tIGZ1bmN0aW9uLlxuICovXG5cbi8qKlxuICogQ3JlYXRpbmcgYSBmdW5jdGlvbiByZXR1cm5pbmcgYSByYW5kb20gaW50ZWdlciBzdWNoIGFzIGEgPD0gTiA8PSBiLlxuICpcbiAqIEBwYXJhbSAge2Z1bmN0aW9ufSBybmcgLSBSTkcgZnVuY3Rpb24gcmV0dXJuaW5nIHVuaWZvcm0gcmFuZG9tLlxuICogQHJldHVybiB7ZnVuY3Rpb259ICAgICAtIFRoZSBjcmVhdGVkIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBjcmVhdGVSYW5kb20ocm5nKSB7XG5cbiAgLyoqXG4gICAqIFJhbmRvbSBmdW5jdGlvbi5cbiAgICpcbiAgICogQHBhcmFtICB7bnVtYmVyfSBhIC0gRnJvbS5cbiAgICogQHBhcmFtICB7bnVtYmVyfSBiIC0gVG8uXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICovXG4gIHJldHVybiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGEgKyBNYXRoLmZsb29yKHJuZygpICogKGIgLSBhICsgMSkpO1xuICB9O1xufVxuXG4vKipcbiAqIERlZmF1bHQgcmFuZG9tIHVzaW5nIGBNYXRoLnJhbmRvbWAuXG4gKi9cbnZhciByYW5kb20gPSBjcmVhdGVSYW5kb20oTWF0aC5yYW5kb20pO1xuXG4vKipcbiAqIEV4cG9ydGluZy5cbiAqL1xucmFuZG9tLmNyZWF0ZVJhbmRvbSA9IGNyZWF0ZVJhbmRvbTtcbm1vZHVsZS5leHBvcnRzID0gcmFuZG9tO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==